{"version":3,"file":"js/895.d0b3d038.js","mappings":"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","sources":["webpack://vue_manager/./src/components/CommonForm.vue","webpack://vue_manager/src/components/CommonForm.vue","webpack://vue_manager/./src/components/CommonForm.vue?f143","webpack://vue_manager/./src/components/CommonForm.vue?5b03","webpack://vue_manager/./src/components/CommonTable.vue","webpack://vue_manager/src/components/CommonTable.vue","webpack://vue_manager/./src/components/CommonTable.vue?1d08","webpack://vue_manager/./src/components/CommonTable.vue?634b","webpack://vue_manager/./src/components/UserPage.vue","webpack://vue_manager/src/components/UserPage.vue","webpack://vue_manager/./src/components/UserPage.vue?8861","webpack://vue_manager/./src/components/UserPage.vue?fc23"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-form',{ref:\"form\",attrs:{\"label-width\":\"100px\",\"model\":_vm.form,\"inline\":_vm.inline}},[_vm._l((_vm.formLabel),function(item){return _c('el-form-item',{key:item.label,attrs:{\"label\":item.label}},[(item.type === 'input')?_c('el-input',{attrs:{\"placeholder\":'请输入' + item.label},model:{value:(_vm.form[item.model]),callback:function ($$v) {_vm.$set(_vm.form, item.model, $$v)},expression:\"form[item.model]\"}}):_vm._e(),(item.type === 'switch')?_c('el-switch',{model:{value:(_vm.form[item.model]),callback:function ($$v) {_vm.$set(_vm.form, item.model, $$v)},expression:\"form[item.model]\"}}):_vm._e(),(item.type === 'date')?_c('el-date-picker',{attrs:{\"type\":\"date\",\"value-format\":\"yyyy-MM-dd\",\"placeholder\":\"选择日期\"},model:{value:(_vm.form[item.model]),callback:function ($$v) {_vm.$set(_vm.form, item.model, $$v)},expression:\"form[item.model]\"}}):_vm._e(),(item.type === 'select')?_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form[item.model]),callback:function ($$v) {_vm.$set(_vm.form, item.model, $$v)},expression:\"form[item.model]\"}},_vm._l((item.opts),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1):_vm._e()],1)}),_c('el-form-item',[_vm._t(\"default\")],2)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-form ref=\"form\" label-width=\"100px\" :model=\"form\" :inline=\"inline\">\r\n        <el-form-item v-for=\"item in formLabel\" :key=\"item.label\" :label=\"item.label\">\r\n            <el-input v-if=\"item.type === 'input'\" :placeholder=\"'请输入' + item.label\" v-model=\"form[item.model]\">\r\n            </el-input>\r\n            <el-switch v-if=\"item.type === 'switch'\" v-model=\"form[item.model]\">\r\n            </el-switch>\r\n            <el-date-picker v-if=\"item.type === 'date'\" type=\"date\" value-format=\"yyyy-MM-dd\" placeholder=\"选择日期\"\r\n                v-model=\"form[item.model]\">\r\n            </el-date-picker>\r\n            <el-select v-if=\"item.type === 'select'\" placeholder=\"请选择\" v-model=\"form[item.model]\">\r\n                <el-option v-for=\"item in item.opts\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                </el-option>\r\n            </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n            <slot></slot>\r\n        </el-form-item>\r\n    </el-form>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'CommonForm',\r\n    props: {\r\n        formLabel: Array,\r\n        form: Object,\r\n        inline: Boolean\r\n    },\r\n    data() {\r\n        return {\r\n\r\n        }\r\n    }\r\n}\r\n</script>>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommonForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommonForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommonForm.vue?vue&type=template&id=4792b5c4&\"\nimport script from \"./CommonForm.vue?vue&type=script&lang=js&\"\nexport * from \"./CommonForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"common-table\"},[_c('el-table',{attrs:{\"data\":_vm.tableData,\"height\":\"90%\",\"stripe\":\"\"}},[_vm._l((_vm.tableLabel),function(item){return _c('el-table-column',{key:item.prop,attrs:{\"show-overflow-tooltip\":\"\",\"label\":item.label,\"width\":item.width ? item.width : 125},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row[item.prop]))])]}}],null,true)})}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"min-width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")])]}}])})],2),_c('el-pagination',{staticClass:\"pager\",attrs:{\"layout\":\"prev, pager, next\",\"total\":_vm.config.total,\"current-page\":_vm.config.page,\"page-size\":20},on:{\"update:currentPage\":function($event){return _vm.$set(_vm.config, \"page\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.config, \"page\", $event)},\"current-change\":_vm.changePage}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"common-table\">\r\n        <el-table :data=\"tableData\" height=\"90%\" stripe>\r\n            <el-table-column show-overflow-tooltip v-for=\"item in tableLabel\" :key=\"item.prop\" :label=\"item.label\"\r\n                :width=\"item.width ? item.width : 125\">\r\n                <template slot-scope=\"scope\">\r\n                    <span style=\"margin-left:10px\">{{ scope.row[item.prop] }}</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\" min-width=\"180\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button size=\"mini\" @click=\"handleEdit(scope.row)\">编辑</el-button>\r\n                    <!-- 点击删除按钮无效，待解决 -->\r\n                    <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.row)\">删除</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <el-pagination class=\"pager\" layout=\"prev, pager, next\" :total=\"config.total\" :current-page.sync=\"config.page\"\r\n            @current-change=\"changePage\" :page-size=\"20\">\r\n\r\n        </el-pagination>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'CommonTable',\r\n    props: {\r\n        tableData: Array,\r\n        tableLabel: Array,\r\n        config: Object\r\n    },\r\n    data() {\r\n        return {\r\n\r\n        }\r\n    },\r\n    methods: {\r\n        handleEdit(row) {\r\n            this.$emit('edit', row)\r\n        },\r\n        handleDelete(row) {\r\n            this.$emit('delete', row)\r\n        },\r\n        changePage(page) {\r\n            this.$emit('change', page)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.common-table {\r\n    height: calc(100% - 62px); //高度设定无效导致只显示一行列表，原因是减号左右必须写空格否则减号会被识别为负号，已解决\r\n    background-color: white;\r\n    position: relative;\r\n\r\n    .pager {\r\n        position: absolute;\r\n        bottom: 0;\r\n        right: 20px;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommonTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommonTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommonTable.vue?vue&type=template&id=fa6ab366&scoped=true&\"\nimport script from \"./CommonTable.vue?vue&type=script&lang=js&\"\nexport * from \"./CommonTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommonTable.vue?vue&type=style&index=0&id=fa6ab366&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fa6ab366\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"manage\"},[_c('el-dialog',{attrs:{\"title\":_vm.operateType === 'add' ? '新增用户' : '更新用户',\"visible\":_vm.isShow},on:{\"update:visible\":function($event){_vm.isShow=$event}}},[_c('common-form',{ref:\"form\",attrs:{\"formLabel\":_vm.operateFormLabel,\"form\":_vm.operateForm,\"inline\":true}}),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.isShow = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirm}},[_vm._v(\"确定\")])],1)],1),_c('div',{staticClass:\"manage-header\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(\"新增\")]),_c('common-form',{ref:\"form\",attrs:{\"formLabel\":_vm.formLabel,\"form\":_vm.searchForm,\"inline\":true}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getList}},[_vm._v(\"搜索\")])],1)],1),_c('common-table',{attrs:{\"tableData\":_vm.tableData,\"tableLabel\":_vm.tableLabel,\"config\":_vm.config},on:{\"changePage\":function($event){return _vm.getList(_vm.searchForm.keyword)},\"edit\":_vm.editUser,\"del\":_vm.delUser}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"manage\">\r\n        <el-dialog :title=\"operateType === 'add' ? '新增用户' : '更新用户'\" :visible.sync=\"isShow\">\r\n            <common-form :formLabel=\"operateFormLabel\" :form=\"operateForm\" :inline=\"true\" ref=\"form\"></common-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"isShow = false\">取消</el-button>\r\n                <el-button type=\"primary\" @click=\"confirm\">确定</el-button>\r\n            </div>\r\n        </el-dialog>\r\n        <div class=\"manage-header\">\r\n            <el-button type=\"primary\" @click=\"addUser\">新增</el-button>\r\n            <common-form :formLabel=\"formLabel\" :form=\"searchForm\" :inline=\"true\" ref=\"form\">\r\n                <el-button type=\"primary\" @click=\"getList\">搜索</el-button>\r\n            </common-form>\r\n        </div>\r\n        <common-table :tableData=\"tableData\" :tableLabel=\"tableLabel\" :config=\"config\"\r\n            @changePage=\"getList(searchForm.keyword)\" @edit=\"editUser\" @del=\"delUser\">\r\n\r\n        </common-table>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport CommonForm from '@/components/CommonForm.vue'\r\nimport CommonTable from '@/components/CommonTable.vue';\r\nimport { getUser } from '@/api/data'\r\n\r\n\r\n\r\nexport default {\r\n    name: \"User\",\r\n    data() {\r\n        return {\r\n            operateType: 'add',\r\n            isShow: false,\r\n            operateFormLabel: [{\r\n                model: 'name',\r\n                label: '姓名',\r\n                type: 'input'\r\n            },\r\n            {\r\n                model: 'age',\r\n                label: '年龄',\r\n                type: 'input'\r\n            },\r\n            {\r\n                model: 'sex',\r\n                label: '性别',\r\n                type: 'select',\r\n                opts: [\r\n                    {\r\n                        label: '男',\r\n                        value: 1\r\n                    },\r\n                    {\r\n                        label: '女',\r\n                        value: 0\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                model: 'birth',\r\n                label: '出生日期',\r\n                type: 'date'\r\n            },\r\n            {\r\n                model: 'addr',\r\n                label: '地址',\r\n                type: 'input'\r\n            }],\r\n            operateForm: {\r\n                name: '',\r\n                addr: '',\r\n                age: '',\r\n                borth: '',\r\n                sex: ''\r\n            },\r\n            formLabel: [{\r\n                model: \"keyword\",\r\n                label: '',\r\n                type: 'input'\r\n            }],\r\n            searchForm: {\r\n                keyword: ''\r\n            },\r\n            tableData: [],\r\n            tableLabel: [\r\n                {\r\n                    prop: \"name\",\r\n                    label: \"姓名\"\r\n                },\r\n                {\r\n                    prop: \"age\",\r\n                    label: \"年龄\"\r\n                },\r\n                {\r\n                    prop: \"sexLabel\",\r\n                    label: \"性别\"\r\n                },\r\n                {\r\n                    prop: \"birth\",\r\n                    label: \"出生日期\",\r\n                    width: 200\r\n                },\r\n                {\r\n                    prop: \"addr\",\r\n                    label: \"地址\",\r\n                    width: 320\r\n                }\r\n            ],\r\n            config: {\r\n                page: 1,\r\n                total: 30\r\n            }\r\n        };\r\n    },\r\n    methods: {\r\n        confirm() {\r\n            if (this.operateType === 'edit') {\r\n                this.$http.post('/user/edit', this.operateForm).then(res => {\r\n                    console.log(res)\r\n                    this.isShow = false\r\n                    this.getList()\r\n                })\r\n            }\r\n            else {\r\n                this.$http.post('/user/add', this.operateForm).then(res => {\r\n                    console.log(res)\r\n                    this.isShow = false\r\n                    this.getList()\r\n                })\r\n            }\r\n        },\r\n        addUser() {\r\n            this.isShow = true,\r\n                this.operateType = 'add',\r\n                this.operateForm =\r\n                {\r\n                    name: '',\r\n                    addr: '',\r\n                    age: '',\r\n                    borth: '',\r\n                    sex: ''\r\n                }\r\n        },\r\n        getList(name = '') {\r\n            this.config.loading = true\r\n            name ? (this.config.page = 1) : ''\r\n            getUser({\r\n                page: this.config.page,\r\n                name\r\n            }).then(({ data: res }) => {\r\n                this.tableData = res.list.map(item => {\r\n                    item.sexLabel = item.sex === 0 ? \"女\" : \"男\"\r\n                    return item\r\n                })\r\n                this.config.total = res.count\r\n                this.config.loading = false\r\n            })\r\n        },\r\n        editUser(row) {\r\n            this.operateType = 'edit'\r\n            this.isShow = true\r\n            this.operateForm = row\r\n        },\r\n        delUser(row) {\r\n            this.$confirm(\"此操作将永久删除该文件，是否继续？\", \"提示\", {\r\n                confirmButtonText: \"确认\",\r\n                cancelButtonText: \"取消\",\r\n                type: \"warning\"\r\n            }).then(() => {\r\n                const id = row.id\r\n                this.$http.post(\"/user/del\", {\r\n                    params: { id }\r\n                }).then(() => {\r\n                    this.$message({\r\n                        type: 'success',\r\n                        message: '删除成功'\r\n                    })\r\n                    this.getList()\r\n                })\r\n            })\r\n        }\r\n    },\r\n    created() {\r\n        this.getList()\r\n    },\r\n    components: {\r\n        CommonForm,\r\n        CommonTable\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.manage-header {\r\n    display: flex; //这一条样式导致新增按钮尺寸出错，原因是搜索按钮放在common-form盒子里，高度与common-form相同，而新增按钮放在div盒子里\r\n    justify-content: space-between;\r\n    align-content: center;\r\n    height: 40px; //下面两条样式解决了新增按钮尺寸出错，解决方案是给div盒子设定高度与搜索按钮一致，然后设定下外边距\r\n    margin-bottom: 22px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserPage.vue?vue&type=template&id=78408569&scoped=true&\"\nimport script from \"./UserPage.vue?vue&type=script&lang=js&\"\nexport * from \"./UserPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserPage.vue?vue&type=style&index=0&id=78408569&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78408569\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","ref","attrs","form","inline","_l","formLabel","item","key","label","type","model","value","callback","$$v","$set","expression","_e","opts","_t","staticRenderFns","name","props","data","component","staticClass","tableData","tableLabel","prop","width","scopedSlots","_u","fn","scope","staticStyle","_v","_s","row","on","$event","handleEdit","handleDelete","config","total","page","changePage","methods","operateType","isShow","operateFormLabel","operateForm","slot","confirm","addUser","searchForm","getList","keyword","editUser","delUser","addr","age","borth","sex","console","getUser","then","confirmButtonText","cancelButtonText","params","id","message","created","components","CommonForm","CommonTable"],"sourceRoot":""}